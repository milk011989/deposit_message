<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
  <title>è¨‚æˆ¿ç¢ºèªè¨Šæ¯</title>
  <link rel="stylesheet" href="//cdn.materialdesignicons.com/5.2.45/css/materialdesignicons.min.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
<!-- <link rel="stylesheet" href="./style.css"> -->
<style>
  * {
  margin: 0;
  padding: 0;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

body {
  font-family: 'Open Sans', sans-serif;
  background: #e2e2e2;
}

svg {
  position: fixed;
  top: 10px;
  left: 0px;
}

.container {
  position: relative;
  top: 60px;
  display: block;
  margin: 0 auto 80px auto;
  width: 90%;
  max-width: 500px;
  background: #fff;
  border-radius: 5px;
  overflow: hidden;
  z-index: 1;
}

h2 {
  padding: 40px;
  font-weight: lighter;
  text-transform: uppercase;
  color: #414141;
}

input {
  display: block;
  height: 60px;
  width: 90%;
  margin: 0 auto;
  border: none;
}
.form input::placeholder {
  -webkit-transform: translateY(0px);
  transform: translateY(0px);
  -webkit-transition: .5s;
  transition: .5s;
}
.form input:hover, input:focus, input:active:focus {
  color: #ff5722;
  outline: none;
  border-bottom: 1px solid #ff5722;
}
.form label.outer {
      position: relative;
      display: block;
      text-transform: uppercase;
      font-weight: 600;
      font-size: 11px;
      letter-spacing: .5px;
      color: #939393; }


.email,
.pwd {
  position: relative;
  z-index: 1;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 20px;
  font-family: 'Open Sans', sans-serif;
  color: #858585;
  font-weight: lighter;
  -webkit-transition: .5s;
  transition: .5s;
}

#requirement, #letter,  #letter_sup {
    border: 1px solid rgba(0, 0, 0, 0.1);
    padding: 20px;
    font-family: 'Open Sans', sans-serif;
    text-transform: uppercase;
    color: #858585;
    font-weight: lighter;
    display: block;
    height: 90px;
    width: 90%;
    margin: 0 auto;
    resize: none;
}
#letter {
  height: 120px;
}
#letter_sup {
  height: 240px;
}

.link{
  text-decoration:none;
  display:block;
  margin:10px;
  text-align: center;
  text-transform:uppercase;
  color:#ff5722;
  font-weight:lighter;
  -webkit-transition:.5s;
  transition:.5s;
}
.hint{
  text-decoration:none;
  display:block;
  margin:10px;
  text-align: left;
  text-transform:uppercase;
  color:#858585;
  font-weight:lighter;
  -webkit-transition:.5s;
  transition:.5s;
  font-size: 12px;
}

button {
  cursor: pointer;
  display: inline-block;
  float: left;
  width: 100%;
  height: 60px;
  margin-top: -10px;
  border: none;
  font-family: 'Open Sans', sans-serif;
  text-transform: uppercase;
  color: #fff;
  -webkit-transition: .5s;
  transition: .5s;
  background: #e2e2e2;
}

button.sent {
  background: #ff5722;
}
button span {
  position: absolute;
  display: block;
  margin: -10px 20%;
  -webkit-transform: translateX(0);
  transform: translateX(0);
  -webkit-transition: .5s;
  transition: .5s;
}
button:hover span {
  -webkit-transform: translateX(30px);
  transform: translateX(30px);
}

.reg {
  position: absolute;
  top: 0;
  left: 0;
  -webkit-transform: translateY(-100%) scale(1);
  transform: translateY(-100%) scale(1);
  display: block;
  width: 20px;
  height: 20px;
  border-radius: 50px;
  background: #673ab7;
  z-index: 5;
  -webkit-transition: .8s ease-in-out;
  transition: .8s ease-in-out;
}

.sig {
  position: absolute;
  top: 0;
  right: 0;
  -webkit-transform: translateY(-100%) scale(1);
  transform: translateY(-100%) scale(1);
  display: block;
  width: 20px;
  height: 20px;
  display: block;
  background: #ff5722;
  z-index: 5;
  -webkit-transition: .8s ease-in-out;
  transition: .8s ease-in-out;
}

h3 {
  position: absolute;
  top: -100%;
  left: 20%;
  text-transform: uppercase;
  font-weight: bolder;
  color: rgba(255, 255, 255, 0.3);
  -webkit-transition: .3s ease-in-out 1.2s;
  transition: .3s ease-in-out 1.2s;
}

.booking-info, .whole-type, .booking-type {
  margin: 30px;
}
.booking-info > div {
  display: flex;
}
.booking-info div label {
  flex-basis: 80px;
  /* font-size: 12px;; */
  align-items: center;
  display: flex;
}
.booking-info div input {
  flex: 1;
}
.book_type {
    flex: 1;
    padding: 10px;
    text-align: center;
    background: darkseagreen;
    color: #fff;
    opacity: .5;
}
.book_type.active {
  opacity: 1;
}
.bbq_version_item {
    flex: 1;
    padding: 10px;
    text-align: center;
    background: olive;
    color: #fff;
    opacity: .5;
    font-size: 14px;
}
.bbq_version_item.active {
  opacity: 1;
}

.for_bbq_version_new > div {
    width: 100%;
}
</style>
</head>
<body>

<div class="container">
  <div style="display:flex;">
    <div class="room_book book_type">
      <span>è¨‚æˆ¿</span>
    </div>
  </div>

  <div id="room_form" class="form">
    <input type="hidden" id="lineUserId" class="email" placeholder="LineID">
    
    <textarea class="way1" id="letter" placeholder="è«‹ç›´æ¥è²¼ä¸Šæ—…å®‰ç³»çµ±è¨‚æˆ¿æ‘˜è¦"></textarea>
    
    <div class="booking-type">
        <div>â—å…¥ä½æ–¹æ¡ˆ</div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="bookingtype_normal" name="bookingtype" value="normal"  />
            <div class="state p-success">
                <label>ä¸€èˆ¬å…¥ä½è¨‚æˆ¿</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="bookingtype_pet" name="bookingtype" value="pet" checked />
            <div class="state p-success">
                <label>å¯µç‰©å…¥ä½è¨‚æˆ¿</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="bookingtype_whole" name="bookingtype" value="whole" />
            <div class="state p-success">
                <label>åŒ…æ£Ÿå…¥ä½è¨‚æˆ¿</label><br>
            </div>
        </div>
    </div>

    <div class="whole-type" style="display:none;">
        <div>â—åŒ…æ£Ÿå…§å®¹</div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="wholetype_a" name="wholetype" value="wholeA"  />
            <div class="state p-success">
                <label>åŒ…Aæ£Ÿ</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="wholetype_b" name="wholetype" value="wholeB" />
            <div class="state p-success">
                <label>åŒ…Bæ£Ÿ</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="wholetype_all" name="wholetype" value="wholeAll" />
            <div class="state p-success">
                <label>å…¨åŒ…æ£Ÿ</label><br>
            </div>
        </div>
    </div>
    
    
    <div class="booking-info">
      <div class="way2"><label for="guest">è¨‚æˆ¿å¤§å</label><input type="text" id="guest" class="email" placeholder="è¨‚æˆ¿å¤§å"></div>
      <div class="way2"><label for="date">å…¥ä½æœŸé–“</label><input type="text" id="date" class="email" value="" placeholder="å…¥ä½æœŸé–“"  ></div>
      <div class="way2"><label for="days">å¤©æ•¸</label><input type="number" id="days" class="email" value="1"  placeholder="å¤©æ•¸" ></div>
      <div><label for="eat">æ—©é¤å®¢æ•¸</label><input type="number" id="eat" class="email" value=""  placeholder="æ—©é¤" ></div>
      <div><label for="amount">è¨‚å–®ç¸½åƒ¹</label><input type="number" id="amount" class="email" value=""  placeholder="å¡«å¯«è¨‚å–®ç¸½åƒ¹" ></div>
      <div><label for="deposit">è¨‚å–®è¨‚é‡‘</label><input type="number" id="deposit" class="email" value=""  placeholder="å¡«å¯«è¨‚å–®è¨‚é‡‘" ></div>
    </div>


    <div id="deadlineOption" style="margin:20px 30px;">
        <div>â—è¨‚é‡‘æœŸé™</div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="deadline_normal" name="deadline" value="2å¤©å…§" />
            <div class="state p-success">
                <label>2å¤©å…§(ä¸€èˆ¬)</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="deadline_long" name="deadline" value="7å¤©å…§" />
            <div class="state p-success">
                <label>7å¤©å…§(åŒ…æ£Ÿã€åŒæ¥­é å®š)</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="deadline_tomorrow" name="deadline" value="æ˜æ—¥å…§(14:00å‰)" />
            <div class="state p-success">
                <label>æ˜æ—¥å…§(14:00å‰)</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="radio" id="deadline_today" name="deadline" value="ä»Šæ—¥å…§(14:00å‰)" />
            <div class="state p-success">
                <label>ä»Šæ—¥å…§(14:00å‰)</label><br>
            </div>
        </div>
    </div>



    <div id="priceOption" style="margin:20px 30px;">
      <div>â—å…¶ä»–å„ªæƒ é¡å‹ï¼ˆä¸€èˆ¬é è¨­ç‚ºå„ªæƒ åƒ¹ï¼‰</div>
      <!-- <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="back" name="pricetype" value="æ´„æ¸¸" />
        <div class="state p-success">
          <label >æ´„æ¸¸</label><br>
        </div>
      </div> -->
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="overstay" name="pricetype" value="çºŒä½" />
        <div class="state p-success">
          <label >çºŒä½å„ªæƒ åƒ¹</label><br>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="sole" name="pricetype" value="åŒ…æ£Ÿ" />
        <div class="state p-success">
          <i class="icon mdi mdi-check"></i>
          <label>åŒ…æ£Ÿå„ªæƒ åƒ¹</label>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="net" name="pricetype" value="åŒæ¥­" />
        <div class="state p-success">
          <label >åŒæ¥­å„ªæƒ åƒ¹ï¼ˆæˆ¿åƒ¹æœ‰åŒæ¥­å„ªæƒ åƒ¹å†é¸ï¼‰</label><br>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="spec" name="pricetype"  value="ç‰¹åˆ¥"/>
        <div class="state p-success">
          <label >ç‰¹åˆ¥å„ªæƒ åƒ¹</label>
        </div>
      </div>
    </div>

    <div id="requirementOption" style="margin:20px 30px 10px;">
        <div>â—å‚™è¨»</div>
        <div class="pretty p-icon p-smooth">
            <input type="checkbox" id="requirement_pet" name="requirement" value="å¯µç‰©å…¥ä½(ä¸€æ¨“ç²¾ç·»æˆ¿å‹)" />
            <div class="state p-success">
                <label>å¯µç‰©å…¥ä½(ä¸€æ¨“ç²¾ç·»æˆ¿å‹)</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="checkbox" id="requirement_babybed" name="requirement" value="å¬°å…’åºŠçµ„" />
            <div class="state p-success">
                <label>å¬°å…’åºŠçµ„</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="checkbox" id="requirement_bed" name="requirement" value="åŠ åºŠä¸€ä½" />
            <div class="state p-success">
                <label>åŠ åºŠä¸€ä½</label><br>
            </div>
        </div>
        <div class="pretty p-icon p-smooth">
            <input type="checkbox" id="requirement_child" name="requirement" value="åŠ äººä¸€ä½" />
            <div class="state p-success">
                <label>åŠ äººä¸€ä½</label><br>
            </div>
        </div>
    </div>
    <textarea id="requirement" placeholder="å…¶ä»–è¨‚å–®å‚™è¨»ï¼Œå¦‚ï¼šç²¾ç·»å››äººæˆ¿å…©ä½å…¥ä½ç­‰ç­‰"></textarea>
    <br/>
    <div id="advanced" style="margin:30px;">
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="pet" name="pet" />
        <div class="state p-success">
          <label for="pet">å¯µç‰©å…¥ä½ï¼ˆæœƒé™„ä¸Šå¯µç‰©å…¥ä½é ˆçŸ¥ï¼‰</label>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="cross" name="cross" />
        <div class="state p-success">
          <label for="cross">æ‚¨çš„æˆ¿é–“åœ¨ä¸åŒæ£Ÿï¼ˆå¢åŠ æé†’ï¼‰</label>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="deposited" name="deposited" />
        <div class="state p-success">
          <label for="deposited">è¨‚å–®å·²ä»˜è¨‚é‡‘ï¼ˆé¡¯ç¤ºå·²ä»˜è¨‚é‡‘ï¼Œä¸æœƒæœ‰åŒ¯æ¬¾è³‡è¨Šï¼‰</label>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="noprepay" name="noprepay" />
        <div class="state p-success">
          <label for="noprepay">è¨‚å–®å…è¨‚é‡‘ï¼ˆå…¨é¡ç¾å ´ä»˜æ¬¾ï¼Œä¸æœƒæœ‰åŒ¯æ¬¾è³‡è¨Šï¼‰</label>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="modify" name="modify" />
        <div class="state p-success">
          <label for="modify">è¨‚å–®å…§å®¹ä¿®æ”¹ï¼ˆæœƒæœ‰ï¼šå·²ç‚ºæ‚¨ä¿®æ”¹å¦‚ä¸‹ï¼‰</label><br>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="travelor" name="travelor" />
        <div class="state p-success">
          <i class="icon mdi mdi-check"></i>
          <label for="travelor">åŒæ¥­æ—…è¡Œç¤¾ï¼ˆæœƒé™„ä¸ŠåŒæ¥­è¨‚æˆ¿é ˆçŸ¥)</label>
        </div>
      </div>
      <div class="pretty p-icon p-smooth">
        <input type="checkbox" id="ota" name="ota" />
        <div class="state p-success">
          <i class="icon mdi mdi-check"></i>
          <label for="ota">OTAè¨‚å–®</label>
        </div>
      </div>
    </div>
 
    <br/>
    <button type="button" class="signin sent">
      <span>é€å‡º</span>
    </button>
    <h3>è¨Šæ¯å·²é€å‡º !</h3>
    <div class="reg"></div>
    <div class="sig"></div>
</div>
 
 
</div>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
  <!-- Load LIFF SDK -->
    <!-- <script src="https://d.line-scdn.net/liff/1.0/sdk.js"></script> -->
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vconsole@3.2.0/dist/vconsole.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.25.3/moment.min.js"></script>

<script>
  var vConsole = new VConsole();
var rooms = [
	{room_id: "3", room_name: "Aæ£Ÿ å±±æ™¯é›™äººæˆ¿", sham_name: "å±±æ™¯é›™äººæˆ¿"},
	{room_id: "4", room_name: "Aæ£Ÿ å±±æ™¯æ¹¯å±‹æˆ¿", sham_name: "å±±æ™¯æ¹¯å±‹æˆ¿"},
	{room_id: "5", room_name: "Aæ£Ÿ æµ·æ™¯é›™äººæˆ¿", sham_name: "æµ·æ™¯é›™äººæˆ¿(2å°åºŠ)"},
	{room_id: "7", room_name: "Aæ£Ÿ å±±æ™¯å››äººæˆ¿", sham_name: "å±±æ™¯å››äººæˆ¿"},
	{room_id: "9", room_name: "Aæ£Ÿ æµ·æ™¯å››äººæˆ¿", sham_name: "æµ·æ™¯å››äººæˆ¿"},	
	{room_id: "10", room_name: "Aæ£Ÿ å±±æµ·æ™¯å®¶åº­å››äººæˆ¿", sham_name: "å±±æµ·æ™¯å®¶åº­å››äººæˆ¿"},
	{room_id: "11", room_name: "Aæ£Ÿ VIPé ‚ç´šæµ·æ™¯å››äººæˆ¿", sham_name: "VIPé ‚ç´šæµ·æ™¯å››äººæˆ¿"},
  {room_id: "14", room_name: "Aæ£Ÿ VIPé ‚ç´šå±±æµ·æ™¯å…­äººæˆ¿", sham_name: "VIPé ‚ç´šå±±æµ·æ™¯å…­äººæˆ¿"},
  {room_id: "1", room_name: "Bæ£Ÿ ç°¡ç´„é›™äººæˆ¿", sham_name: "ç°¡ç´„é›™äººæˆ¿(2å°åºŠ)"},
	{room_id: "2", room_name: "Bæ£Ÿ ç²¾ç·»é›™äººæˆ¿", sham_name: "ç²¾ç·»é›™äººæˆ¿"},
  {room_id: "6", room_name: "Bæ£Ÿ ç²¾ç·»å››äººæˆ¿", sham_name: "ç²¾ç·»å››äººæˆ¿OFF"},
  {room_id: "6", room_name: "Bæ£Ÿ ç²¾ç·»å››äººæˆ¿", sham_name: "ç²¾ç·»å››äººæˆ¿(çª—)"},
  {room_id: "12", room_name: "Bæ£Ÿ ç²¾ç·»å®¶åº­å…­äººæˆ¿", sham_name: "ç²¾ç·»å®¶åº­å…­äººæˆ¿"},
	{room_id: "13", room_name: "Bæ£Ÿ VIPç²¾ç·»å…­äººæˆ¿", sham_name: "VIPç²¾ç·»å…­äººæˆ¿"}
]


$(document).ready(function () {
    liff
    .init({
      liffId: "1635824694-K8Pk50pb", // Use own liffId
    })
    .then(() => {
      // Start to use liff's api
    })
    .catch((err) => {
      // Error happens during initialization
      console.log(err.code, err.message);
    });

    var hasCP = false
    var hasMP = false

    $('.room_book.book_type').addClass('active');
    $('.way2').hide();
    $('.way1').show();

    $('#amount').change(function (event) {
      var val = event.target.value
      var ori_dep_val = parseInt(val*0.3)
      $('#deposit').val(parseInt(ori_dep_val/100)*100)
    })

    $('input[name=bookingtype]').click(function (event) {
      var val = event.target.value
      console.log(val)
    
      if(val == 'whole') {
        $('.whole-type').show();
        $('#sole').prop('checked',true);
        $('#deadline_long').prop('checked',true);
        $('#pet').prop('checked',false);
        $('#requirement_pet').prop('checked',false);
      } else if (val == 'pet') {
        $('.whole-type').hide();
        $('#sole').prop('checked',false);
        $('#deadline_normal').prop('checked',true);
        $('#pet').prop('checked',true);
        $('#requirement_pet').prop('checked',true);
        $('input[name=wholetype]').prop('checked',false);
        $('#eat').val('')
      } else {
        $('.whole-type').hide();
        $('#sole').prop('checked',false);
        $('#deadline_normal').prop('checked',true);
        $('#pet').prop('checked',false);
        $('#requirement_pet').prop('checked',false);
        $('input[name=wholetype]').prop('checked',false);
        $('#eat').val('')
      }
    })

    $('input[name=wholetype]').change(function (event) {
        var val = event.target.value
        console.log(val)
        if(val == 'wholeA') {
            $('#eat').val(42)
        } else if (val == 'wholeB') {
            $('#eat').val(38)
        } else if (val == 'wholeAll') {
            $('#eat').val(80)
        } else {
            $('#eat').val('')
        }
    })


    

    

    
    var reg2_btn = $('.container .register2');
    var reg_btn = $('.container .register');
    var sig_btn = $('.container .signin');
    /*------- back button ----------------------*/
    var back_btn = $('.container .back');
    reg_btn.click(function (e) {
        e.preventDefault();
        $(this).siblings('.reg').css({
            'transform': 'translateY(40%) scale(5)',
            'border-radius': '0',
            'width': '100%',
            'height': '100%'
        }).end();
        reg_btn.siblings('.container h3:nth-of-type(1)').css({
            'top': '40%',
            'z-index': '8'
        }).end().end();
    });

    sig_btn.on('click', function (e) {
        e.preventDefault();
        var obj = $(this)
		    sendMail(obj, 'room');
    });


	function sendMail(obj, messagetype) {
        $('.signin').attr('disabled', true)

        var helloword = ' å…ˆç”Ÿ/å°å§æ‚¨å¥½ï¼Œå°æ±å¯Œæ‰æ™´æ°‘å®¿ Rich-Sunshine Inn æ„Ÿè¬æ‚¨çš„é è¨‚'
        var concat = 'ğŸ‘‰ğŸ» æœ‰å•é¡Œéƒ½å¯ä»¥ä½¿ç”¨å®˜æ–¹LINEè©¢å• line://ti/p/@bmj3918o \n'
        
        var bank = 'ğŸ”¸åŒ¯æ¬¾è³‡è¨ŠğŸ”¸ \n'+
        'åœ‹æ³°ä¸–è¯éŠ€è¡Œ 013 \n'+
        'åˆ†è¡Œåç¨±ï¼šå°æ±åˆ†è¡Œ \n'+
        'æˆ¶åï¼šé»ƒå»ºå½° \n'+
        'éŠ€è¡Œå¸³è™Ÿï¼š102-50-617130-7 \n'


        var date =  $('#date').val()
        var days =  $('#days').val()
        var eat =  $('#eat').val()
        var amount =  $('#amount').val()
        var deposit =  $('#deposit').val()
        var deadline =  $('input[name="deadline"]:checked').val()
        var self_requirement =  $('.container #requirement').val()

        var wholetype =  $('#bookingtype_whole').prop('checked')
        var wholetypeA =  $('#wholetype_a').prop('checked')
        var wholetypeB =  $('#wholetype_b').prop('checked')
        var wholetypeAll =  $('#wholetype_all').prop('checked')

        var pet =  $('#pet').prop('checked')
        var deposited =  $('#deposited').prop('checked')
        var cross =  $('#cross').prop('checked')
        var modify =  $('#modify').prop('checked')
        var travelor =  $('#travelor').prop('checked')
        var noprepay =  $('#noprepay').prop('checked')
        var ota = $('#ota').prop('checked')

        var selRoomsTmp = ''

        var letter = $('#letter').val()
        console.log('letter', letter)
        var lines = letter.split('\n')
        console.log(lines)
        var saleID = lines[0].split('è¨‚å–®ç·¨è™Ÿ: ')[0]
        var guest = lines[1].split('è¨‚æˆ¿äºº : ')[1]
        date = lines[2].split('ï¼Œ ')[0]
        console.log(lines[2].split('ï¼Œ ')[1])
        var rms = (lines[2].split('ï¼Œ ')[1])
        selRoomsTmp = rms.replace(/Ã—(\d+) /g, ' $1é–“\n')
        console.log(selRoomsTmp)
        // date = str2[0]
        var datea = date.split('è‡³')[0].trim()
        var dateb = date.split('è‡³')[1].trim()
        days = moment.duration(moment(dateb).diff(moment(datea), 'days'))
        console.log(datea, dateb, days, selRoomsTmp)
      
      // for (var i=0; i<str3[0].length; i++) {
      //   selRoomsTmp += str3[0][i]
      //   if (str3[0][i] == 'é–“') {
      //     selRoomsTmp += '\n'
      //   }
      // }


        var priceTmp = ''
        var pricetype = $('#priceOption input:checked')
        for(var i=0;i<pricetype.length;i++){
            priceTmp += $(pricetype[i]).val()
        }
        console.log(pricetype)

        var requireTmp = []
        var requiretype = $('#requirementOption input:checked')
        for(var i=0;i<requiretype.length;i++){
            requireTmp.push($(requiretype[i]).val())
        }
        if (self_requirement !== '') {
            requireTmp.push(self_requirement)
        }
        let requirement = requireTmp.concat(',')
        console.log(requirement)

        var stayknow = 'ğŸ‘‰ğŸ» é å®šå…¥ä½é ˆçŸ¥è«‹è¦‹ï¼šhttps://rich-sunshine.tw/know \n'
        var cancelknow = 'ğŸ‘‰ğŸ» å–æ¶ˆè¨‚æˆ¿è¦å®šè«‹è¦‹ï¼šhttps://rich-sunshine.tw/regulation \n'
        var petknow = 'ğŸ‘‰ğŸ» å¯µç‰©å…¥ä½è¦å®šè«‹è¦‹ï¼šhttps://rich-sunshine.tw/news/PET \n'
        var soleknow = 'ğŸ‘‰ğŸ» åŒ…æ£Ÿå…¥ä½è¦å®šè«‹è¦‹ï¼šhttps://rich-sunshine.tw/news/SOLE \n'
        var travelorknow = 'ğŸ‘‰ğŸ» åŒæ¥­æ—…è¡Œç¤¾é è¨‚é ˆçŸ¥ï¼š https://rich-sunshine.tw/other/promotNet202101.html \n'
        var preknow = 'â€¼ï¸é è¨‚å³è¡¨ç¤ºåŒæ„ä»¥ä¸‹æ°‘å®¿è¦å®šèˆ‡å…¥ä½é ˆçŸ¥ï¼Œç…©è«‹æ’¥ç©ºäº†è§£ï¼š\n\n' + stayknow + '\n' + cancelknow + '\n'

        var pushMessgae = guest + helloword;

        if (pet) {
            preknow += petknow + '\n'
        }

        if (travelor) {
            preknow += travelorknow + '\n'
        }

        if (wholetype) {
            preknow += soleknow + '\n'
        }

        eat = eat + 'å®¢/å¤©';

        if(wholetypeA) {
            eat = 'å«æ—©é¤(æœ€å¤š42å®¢/å¤©)'
            selRoomsTmp = 'åŒ…Aæ£Ÿ(12é–“):\n' + selRoomsTmp
        }
        if(wholetypeB) {
            eat = 'å«æ—©é¤(æœ€å¤š38å®¢/å¤©)'
            selRoomsTmp = 'åŒ…Bæ£Ÿ(10é–“):\n' + selRoomsTmp
        }
        if(wholetypeAll) {
            eat = 'å«æ—©é¤(æœ€å¤š80å®¢/å¤©)'
            selRoomsTmp = 'å…¨åŒ…æ£Ÿ(22é–“):\n' + selRoomsTmp
        }



        if (modify) {
            pushMessgae += 'ï¼Œå·²ç‚ºæ‚¨ä¿®æ”¹å¦‚ä¸‹ï¼š'
        }

        pushMessgae += '\n\n'

        if (ota) {
            pushMessgae += 'å¹³å°ï¼šOTAç·šä¸Šè¨‚æˆ¿å¹³å°\n'
        }

        pushMessgae += 'å…¥ä½/é€€æˆ¿æ—¥æœŸï¼š'+ days +'æ™š \n' +
                    date + '\n' + 
                    'æ—©é¤ï¼š'+ eat + '\n'+
                    'æˆ¿å‹ï¼š \n'+
                      selRoomsTmp;
    if (requirement !== '') {
      pushMessgae += '\nå‚™è¨»ï¼š' + requirement;
    }
    pushMessgae += '\n \n'+         
    priceTmp + (ota ? 'OTAåƒ¹ ' : 'å„ªæƒ åƒ¹ ') + amount + 'å…ƒ \n';

    if (deposited) {
      pushMessgae += 'å·²é ä»˜è¨‚é‡‘ '+deposit+'å…ƒï¼Œé¤˜æ¬¾æ–¼ç¾å ´è¾¦ç†å…¥ä½æ™‚ä»˜æ¸…å³å¯ã€‚'
    } else if (noprepay) {
      pushMessgae += 'å…é ä»˜è¨‚é‡‘ï¼Œå…¨æ¬¾æ–¼ç¾å ´è¾¦ç†å…¥ä½æ™‚ä»˜æ¸…å³å¯ã€‚'
    } else {
      pushMessgae += 'é ä»˜è¨‚é‡‘ ' + deposit + 'å…ƒï¼Œéº»ç…©æ‚¨æ–¼ã€'+deadline+'ã€‘å®Œæˆè½‰å¸³ï¼Œä¸¦å›å‚³å¸³è™Ÿå¾Œäº”ç¢¼äºˆæˆ‘å€‘ç¢ºèªå¾Œï¼Œæ‰ç®—å®Œæˆé è¨‚å”·ï¼ é¤˜æ¬¾æ–¼ç¾å ´è¾¦ç†å…¥ä½æ™‚ä»˜æ¸…å³å¯ã€‚  \n\n' + bank

    }   
    pushMessgae += '\n\n'
    if (cross) {
      pushMessgae += 'âš ï¸æ‚¨çš„æˆ¿é–“åœ¨ä¸åŒæ£Ÿ  \n\n'
    }
    pushMessgae += preknow + concat       
    console.log(pushMessgae)
   
  console.log(pushMessgae)
	  
  obj.siblings('.sig').css({
          'transform': 'translateY(40%) scale(5)',
          'border-radius': '0',
          'width': '100%',
          'height': '100%'
      }).end();
  sig_btn.siblings('.container h3:nth-of-type(2)').css({
      'top': '40%',
      'z-index': '8'
  }).end().end();

  var thisPushMessage = [
    {
      type:'text',
      text:pushMessgae
    }
  ]
  

    liff.sendMessages(thisPushMessage).then(function () {
          window.alert("Sent");
      }).catch(function (error) {
          window.alert("Error sending message: " + error);
      });
  
}

  
 

    function getUrlParameter(sParam) {
        var sPageURL = window.location.search.substring(1),
            sURLVariables = sPageURL.split('&'),
            sParameterName,
            i;
    
        for (i = 0; i < sURLVariables.length; i++) {
            sParameterName = sURLVariables[i].split('=');
    
            if (sParameterName[0] === sParam) {
                return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
            }
        }
    };
});
</script>

</body>
</html>
